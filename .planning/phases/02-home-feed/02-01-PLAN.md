---
phase: 02-home-feed
plan: "01"
type: execute
wave: 1
depends_on:
  - "01-03"
files_modified:
  - data/articles.json
  - src/lib/articles.ts
  - src/app/(app)/layout.tsx
  - src/app/(app)/feed/page.tsx
  - src/components/feed/ArticleCard.tsx
  - src/components/feed/CarouselSection.tsx
  - src/components/feed/HeroSection.tsx
autonomous: true
requirements:
  - FEED-01
  - FEED-02
  - FEED-03
  - FEED-04

must_haves:
  truths:
    - "A /feed page exists and renders without errors"
    - "A hero editorial section appears at the top of the feed"
    - "Three carousel sections render: For You, In Your Region, Discover Mexico"
    - "Each carousel shows article cards with title, author, tag, and reading time"
    - "Article data is loaded from /data/articles.json mock"
    - "AppShell with Navbar wraps the feed page"
  artifacts:
    - path: "data/articles.json"
      provides: "12 mock articles with id, title, subtitle, author, publishedAt, tags, regionTags, readingTime, excerpt"
      contains: "\"id\""
    - path: "src/lib/articles.ts"
      provides: "getArticles(), getArticleById(), getArticlesByTag(), getArticlesByRegion() helpers"
      exports: ["getArticles", "getArticleById", "getArticlesByTag", "getArticlesByRegion"]
    - path: "src/app/(app)/feed/page.tsx"
      provides: "P06 Home Feed page with hero + 3 carousels"
      exports: ["default"]
    - path: "src/components/feed/ArticleCard.tsx"
      provides: "Article card with title, author, tag chip, reading time"
      exports: ["ArticleCard"]
    - path: "src/components/feed/CarouselSection.tsx"
      provides: "Section with title and horizontal scrollable article cards"
      exports: ["CarouselSection"]
    - path: "src/components/feed/HeroSection.tsx"
      provides: "Large editorial hero with featured article title, subtitle, author, tag"
      exports: ["HeroSection"]
  key_links:
    - from: "src/app/(app)/feed/page.tsx"
      to: "src/lib/articles.ts"
      via: "getArticles() call"
      pattern: "getArticles\\("
    - from: "src/components/feed/CarouselSection.tsx"
      to: "src/components/feed/ArticleCard.tsx"
      via: "renders ArticleCard per article"
      pattern: "<ArticleCard"
---

<objective>
Build the home feed page shell (P06) with a hero section and three editorial carousels (For You, In Your Region, Discover Mexico), backed by 12 mock articles in /data/articles.json.

Purpose: Users need somewhere to land after onboarding. The feed establishes the editorial identity of CULTX and provides article entry points for Phase 3.
Output: A working /feed route with hero + 3 carousels rendering mock article cards using Japandi tokens.
</objective>

<tasks>

<task type="auto">
  <name>Task 1: Mock article data + data access lib</name>
  <files>
    data/articles.json
    src/lib/articles.ts
  </files>
  <action>
1. Create `data/articles.json` at the project root with 12 articles. Each article covers Mexican culture across different regions and interests. Use this shape:

```json
[
  {
    "id": "1",
    "title": "La arquitectura del silencio: espacios que respiran",
    "subtitle": "Cómo los arquitectos mexicanos contemporáneos dialogan con el pasado prehispánico",
    "author": "Sofía Ramírez",
    "publishedAt": "2026-02-10",
    "tags": ["Architecture", "Cultural heritage"],
    "regionTags": ["Central"],
    "readingTime": 6,
    "excerpt": "En el corazón de la Ciudad de México, un grupo de arquitectos jóvenes está reimaginando lo que significa construir en tierra sagrada."
  },
  {
    "id": "2",
    "title": "El murmullo del mezcal: ritual, tierra y comunidad",
    "subtitle": "Un recorrido por los valles de Oaxaca y la cultura detrás del agave",
    "author": "Andrés Villanueva",
    "publishedAt": "2026-02-08",
    "tags": ["Regional history", "Cultural heritage"],
    "regionTags": ["South"],
    "readingTime": 8,
    "excerpt": "Antes de ser una bebida de moda, el mezcal fue un lenguaje. En Oaxaca, todavía lo es."
  },
  {
    "id": "3",
    "title": "Teatro de la memoria: el cuerpo como archivo",
    "subtitle": "Las compañías de danza contemporánea que recuperan la historia desde el movimiento",
    "author": "Valentina Cruz",
    "publishedAt": "2026-02-06",
    "tags": ["Theatre", "Dance"],
    "regionTags": ["Central"],
    "readingTime": 5,
    "excerpt": "¿Qué pasa cuando el cuerpo recuerda lo que la mente olvidó? En el teatro mexicano contemporáneo, la respuesta es todo."
  },
  {
    "id": "4",
    "title": "Pintores del norte: entre el desierto y la frontera",
    "subtitle": "La escena pictórica en Monterrey y Chihuahua vista desde adentro",
    "author": "Diego Morales",
    "publishedAt": "2026-02-04",
    "tags": ["Painting", "Exhibitions"],
    "regionTags": ["North"],
    "readingTime": 7,
    "excerpt": "El norte de México no es solo desierto y narcocorridos. Es también color, textura y una identidad visual que el centro pocas veces voltea a ver."
  },
  {
    "id": "5",
    "title": "Cine sin red: el documental mexicano en tiempos de streaming",
    "subtitle": "Directoras jóvenes que filman México con cámara en mano y sin presupuesto",
    "author": "Camila Torres",
    "publishedAt": "2026-02-02",
    "tags": ["Film"],
    "regionTags": ["Central", "South"],
    "readingTime": 9,
    "excerpt": "Con teléfonos, con préstamos y con mucha convicción, una nueva generación de cineastas mexicanas está reescribiendo lo que puede ser el cine nacional."
  },
  {
    "id": "6",
    "title": "La Biblioteca de Babel en Guadalajara",
    "subtitle": "La FIL como ecosistema cultural y sus tensiones con el mercado editorial",
    "author": "Rodrigo Fuentes",
    "publishedAt": "2026-01-30",
    "tags": ["Literature", "Cultural events"],
    "regionTags": ["West"],
    "readingTime": 6,
    "excerpt": "Cada noviembre, Guadalajara se convierte en la capital del libro en español. Pero detrás de los números hay una pregunta que nadie quiere responder en voz alta."
  },
  {
    "id": "7",
    "title": "Museo como espejo: las salas que nos incomodan",
    "subtitle": "Curaduría crítica y decolonialidad en los museos mexicanos del siglo XXI",
    "author": "Lucía Espinoza",
    "publishedAt": "2026-01-28",
    "tags": ["Museums", "Cultural heritage"],
    "regionTags": ["Central"],
    "readingTime": 10,
    "excerpt": "¿Para quién son los museos en México? La pregunta lleva décadas sin respuesta cómoda, pero algunas curadoras se niegan a dejarla descansar."
  },
  {
    "id": "8",
    "title": "Yucatán: la península que siempre fue otro país",
    "subtitle": "Identidad, lengua maya y arquitectura en la región más independiente de México",
    "author": "Marco Chan",
    "publishedAt": "2026-01-26",
    "tags": ["Regional history", "Architecture"],
    "regionTags": ["Peninsula"],
    "readingTime": 7,
    "excerpt": "Hay una razón por la que los yucatecos dicen 'voy a México' cuando viajan a la Ciudad de México. Esta es esa historia."
  },
  {
    "id": "9",
    "title": "La exposición que no cierra: arte urbano en el DF",
    "subtitle": "Muralismo contemporáneo y graffiti como disputa por el espacio público",
    "author": "Sofía Ramírez",
    "publishedAt": "2026-01-24",
    "tags": ["Painting", "Exhibitions", "Architecture"],
    "regionTags": ["Central"],
    "readingTime": 5,
    "excerpt": "Las paredes de la Ciudad de México hablan varios idiomas. Aprenderlos no requiere entrada al museo."
  },
  {
    "id": "10",
    "title": "Sonidos del Pacífico: música tradicional en la Costa de Jalisco",
    "subtitle": "La son jalisciense más allá del mariachi y el tequila turístico",
    "author": "Andrés Villanueva",
    "publishedAt": "2026-01-22",
    "tags": ["Dance", "Cultural heritage", "Regional history"],
    "regionTags": ["West"],
    "readingTime": 6,
    "excerpt": "Hay un Jalisco que no sale en los folletos de turismo. Ahí vive la música que más importa."
  },
  {
    "id": "11",
    "title": "Patrimonio digital: archivar lo que internet no guarda",
    "subtitle": "Iniciativas mexicanas de preservación cultural en la era de la obsolescencia digital",
    "author": "Valentina Cruz",
    "publishedAt": "2026-01-20",
    "tags": ["Cultural heritage", "Museums"],
    "regionTags": ["Central", "North"],
    "readingTime": 8,
    "excerpt": "¿Qué pasa con el patrimonio cultural cuando el formato en el que vive ya no puede reproducirse?"
  },
  {
    "id": "12",
    "title": "Chiapas: escribir en la selva",
    "subtitle": "Literatura indígena contemporánea y las editoriales comunitarias del sur",
    "author": "Diego Morales",
    "publishedAt": "2026-01-18",
    "tags": ["Literature", "Regional history"],
    "regionTags": ["South"],
    "readingTime": 9,
    "excerpt": "Las lenguas indígenas de Chiapas no son reliquias del pasado. Son literatura viva que se escribe hoy, aquí, ahora."
  }
]
```

2. Create `src/lib/articles.ts` with typed access helpers:

```ts
import articlesData from "../../data/articles.json";

export interface Article {
  id: string;
  title: string;
  subtitle: string;
  author: string;
  publishedAt: string;
  tags: string[];
  regionTags: string[];
  readingTime: number;
  excerpt: string;
}

const articles: Article[] = articlesData as Article[];

export function getArticles(): Article[] {
  return articles;
}

export function getArticleById(id: string): Article | undefined {
  return articles.find((a) => a.id === id);
}

export function getArticlesByTag(tag: string): Article[] {
  return articles.filter((a) => a.tags.includes(tag));
}

export function getArticlesByRegion(region: string): Article[] {
  return articles.filter((a) => a.regionTags.includes(region));
}
```

Also add `"resolveJsonModule": true` to tsconfig.json if not already set (Next.js usually sets this by default — check and add only if missing).
  </action>
  <verify>Run `npm run build` — articles.ts compiles, Article type exports, all 4 helpers resolve. data/articles.json has 12 entries.</verify>
  <done>12 mock articles in data/articles.json. getArticles, getArticleById, getArticlesByTag, getArticlesByRegion all export from src/lib/articles.ts without TypeScript errors.</done>
</task>

<task type="auto">
  <name>Task 2: Feed page, layout, and feed components</name>
  <files>
    src/app/(app)/layout.tsx
    src/app/(app)/feed/page.tsx
    src/components/feed/ArticleCard.tsx
    src/components/feed/CarouselSection.tsx
    src/components/feed/HeroSection.tsx
  </files>
  <action>
1. Create `src/app/(app)/layout.tsx` — the main app shell layout with Navbar, used by /feed, /article, /profile etc.:
```tsx
import { AppShell } from "@/components/layout/AppShell";

export default function AppLayout({ children }: { children: React.ReactNode }) {
  return <AppShell>{children}</AppShell>;
}
```

2. Create `src/components/feed/ArticleCard.tsx` — card used in carousels:
- Props: `article: Article`, optional `featured?: boolean`
- Layout: `min-w-[280px] max-w-[280px]` card (for horizontal scroll)
- Content:
  - Tag chip: first tag in small pill (rounded-full, bg-surface-raised, text-text-muted, text-xs)
  - Title: font-display, text-lg, text-text-primary, 2-line clamp (`line-clamp-2`)
  - Author + reading time row: text-xs text-text-muted, flex justify-between
  - Subtle hover: `hover:shadow-md transition-shadow duration-[200ms]`
- Wrap in Next.js `<Link href={/article/${article.id}}>` for navigation
- Use `<Card>` component from ui/

3. Create `src/components/feed/CarouselSection.tsx`:
- Props: `title: string`, `articles: Article[]`, optional `subtitle?: string`
- Section wrapper with `mb-12`
- Section header: title in `font-display text-2xl text-text-primary` + optional subtitle in `text-sm text-text-secondary`
- Scrollable row: `flex gap-4 overflow-x-auto pb-4 scrollbar-hide` — use inline style `scrollbarWidth: 'none'` for cross-browser
- Render `<ArticleCard>` per article

4. Create `src/components/feed/HeroSection.tsx`:
- Props: `article: Article`
- Full-width section with `bg-surface-raised` border-b `border-border`, generous padding `py-16 px-4`
- Inner: `max-w-5xl mx-auto`
- Tag chip (same as ArticleCard)
- Title: `font-display text-4xl md:text-5xl font-semibold text-text-primary leading-tight max-w-2xl`
- Subtitle: `text-lg text-text-secondary mt-3 max-w-xl`
- Author row: author name + reading time in `text-sm text-text-muted mt-4`
- "Read article" link: `<Button variant="secondary" size="md">` pointing to `/article/${article.id}`

5. Create `src/app/(app)/feed/page.tsx` as a server component (no "use client"):
- Import getArticles from @/lib/articles
- hero = articles[0] (first article as featured)
- forYouArticles = articles.slice(1, 5) (4 cards)
- regionArticles = articles.slice(5, 9) (4 cards — will be personalized in 02-02)
- discoverArticles = articles.slice(9, 12) (3 cards)
- Render:
  1. `<HeroSection article={hero} />`
  2. Container `<div className="max-w-5xl mx-auto px-4 py-12 space-y-0">`:
     - `<CarouselSection title="For You" subtitle="Based on your interests" articles={forYouArticles} />`
     - `<CarouselSection title="In Your Region" articles={regionArticles} />`
     - `<CarouselSection title="Discover Mexico" articles={discoverArticles} />`
  </action>
  <verify>
1. Run `npm run dev` — visit localhost:3000/feed — page renders without errors.
2. Hero section shows first article title, subtitle, author.
3. Three carousel sections appear with article cards.
4. Cards are horizontally scrollable.
5. Run `npm run build` — zero TypeScript errors.
  </verify>
  <done>Feed page renders at /feed with HeroSection showing article[0], three CarouselSections with article cards. AppShell wraps the page with Navbar visible. All Japandi tokens applied — washi backgrounds, Cormorant headings, DM Sans body text.</done>
</task>

</tasks>

<verification>
1. `npm run build` — zero TypeScript errors
2. /feed renders hero + 3 carousels with article cards
3. Each card links to /article/[id] (404 expected — Phase 3)
4. data/articles.json contains 12 articles with correct shape
</verification>

<success_criteria>
- FEED-04: Hero section present with featured article
- FEED-01: "For You" carousel present with article cards
- FEED-02: "In Your Region" carousel present
- FEED-03: "Discover Mexico" carousel present
- All components use Japandi tokens (DS-01 through DS-06)
- TypeScript strict compilation zero errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-home-feed/02-01-SUMMARY.md`
</output>
